<div>

    <!-- notifications -->
    <section class="content-notifs">
        <_div id="reallyreset" data-translateable="true">Reset controller (everything will be lost!)</_div>
    </section>

    <!-- title -->
    <section class="content-header">
        <_h1 data-translateable="true">IPX configuration</_h1>
    </section>

    <!-- content -->
    <section class="content">
        <!-- main actions -->
        <div class="row">
            <div class="col-xs-12">
                <form class="form-horizontal">
                    <div class="form-group">
                        <_label data-translateable="true" class="col-sm-3 control-label">New board IP</_label>
                        <div class="col-sm-3">
                            <div class="input-group">
                                <input type="text" data-translateable="true" data-bind="value: boardIp" class="form-control" _placeholder="Board IP"></input>
                                <span class="input-group-btn">
                                    <_button type="submit" data-translateable="true" data-bind="click: addBoard" class="btn btn-primary">Add board</_button>
                                </span>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <form class="form-horizontal">
                    <div class="form-group">
                        <_label data-translateable="true" class="col-sm-3 control-label">Select a board</_label>
                        <div class="col-sm-3">
                            <select data-bind="options:boards, value:selectedBoard" class="form-control">
                            </select>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- board configuration -->
        <div class="nav-tabs-custom">
            <ul class="nav nav-tabs" data-bind="bootstrapTabs:{}">
                <li class="active"><_a href="#tabs-outputs" data-translateable="true" class="en-logout">Outputs</_a></li>
                <li><_a href="#tabs-digitals" data-translateable="true" class="en-cd">Digitals</_a></li>
                <li><_a href="#tabs-analogs" data-translateable="true" class="en-tape">Analogs</_a></li>
                <li><_a href="#tabs-counters" data-translateable="true" class="en-chart-bar">Counters</_a></li>
                <li><_a href="#tabs-links" data-translateable="true" class="en-link">Links</_a></li>
                <li><_a href="#tabs-devices" data-translateable="true" class="en-doc">Devices</_a></li>
                <li><_a href="#tabs-board" data-translateable="true" class="en-doc">Board</_a></li>
            </ul>
            <div class="tab-content">

                <!-- outputs config -->
                <div id="tabs-outputs" class="tab-pane fade in active">
                    <img src="img/ipx/ipx800v3_outputs.jpg" />
                    <fieldset>
                        <_legend data-translateable="true">Add outputs</_legend>
                        <form class="form-horizontal">
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">Used outputs</_label>
                                <div class="col-sm-6">
                                    <p class="form-control-static" id="currentoutputs"></p>
                                </div>
                            </div>
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">Output type</_label>
                                <div class="col-sm-6">
                                    <select data-bind="value: selectedOutputType" class="form-control">
                                        <_option value="switch" data-translateable="true">Switch</_option>
                                        <_option value="drapes" data-translateable="true">Drapes</_option>
                                    </select>
                                </div>
                            </div>
                            <ko opts="if: devswitch">
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">Relay</_label>
                                <div class="col-sm-6">
                                    <select data-bind="value: selectedOutputPin1" class="form-control">
                                        <option value="0">Ch1</option>
                                        <option value="1">Ch2</option>
                                        <option value="2">Ch3</option>
                                        <option value="3">Ch4</option>
                                        <option value="4">Ch5</option>
                                        <option value="5">Ch6</option>
                                        <option value="6">Ch7</option>
                                        <option value="7">Ch8</option>
                                    </select>
                                </div>
                            </div>
                            </ko>
                            <ko opts="if: devdrapes">
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">Opening relay</_label>
                                <div class="col-sm-6">
                                    <select data-bind="value: selectedOutputPin1" class="form-control">
                                        <option value="0">Ch1</option>
                                        <option value="1">Ch2</option>
                                        <option value="2">Ch3</option>
                                        <option value="3">Ch4</option>
                                        <option value="4">Ch5</option>
                                        <option value="5">Ch6</option>
                                        <option value="6">Ch7</option>
                                        <option value="7">Ch8</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">Closing relay</_label>
                                <div class="col-sm-6">
                                    <select data-bind="value: selectedOutputPin2" class="form-control">
                                        <option value="0">Ch1</option>
                                        <option value="1">Ch2</option>
                                        <option value="2">Ch3</option>
                                        <option value="3">Ch4</option>
                                        <option value="4">Ch5</option>
                                        <option value="5">Ch6</option>
                                        <option value="6">Ch7</option>
                                        <option value="7">Ch8</option>
                                    </select>
                                </div>
                            </div>
                            </ko>
                            <div class="form-group">
                                <div class="col-sm-offset-4 col-sm-6">
                                    <_button type="button" class="btn btn-primary" data-bind="click: addOutput" data-translateable="true">Add device</_button>
                                </div>
                            </div>
                        </form>
                    </fieldset>
        
                    <fieldset>
                        <_legend data-translateable="true">Actions</_legend>
                        <form class="form-horizontal">
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">Force output state of</_label>
                                <div class="col-sm-6">
                                    <select data-bind="options:outputDevices, optionsText:'name', value:selectedDeviceToForce" class="form-control"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">to</_label>
                                <div class="col-sm-6">
                                    <select data-bind="value: selectedDeviceState" class="form-control">
                                        <_option value="opened" data-translateable="true">Opened</_option>
                                        <_option value="partial" data-translateable="true">Partial</_option>
                                        <_option value="closed" data-translateable="true">Closed</_option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-4 col-sm-6">
                                    <_button type="button" class="btn btn-primary" data-bind="click: forceState" data-translateable="true">Force state</_button>
                                </div>
                            </div>
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">Turn on/off all IPX800 outputs</_label>
                                <div class="col-sm-6">
                                    <_button type="button" data-bind="click: allOn" data-translateable="true" class="btn btn-primary">On</_button>
                                    <_button type="button" data-bind="click: allOff" data-translateable="true" class="btn btn-primary">Off</_button>
                                </div>
                            </div>
                        </form>
                    </fieldset>
                            
                </div>

                <!-- digitals config -->
                <div id="tabs-digitals" class="tab-pane fade">
                    <img src="img/ipx/ipx800v3_digitals.jpg"/>
                    <fieldset>
                        <legend>Add digitals</legend>
                        <form class="form-horizontal">
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">Used digitals</_label>
                                <div class="col-sm-6">
                                    <p class="form-control-static" id="currentdigitals"></p>
                                </div>
                            </div>
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">Digital input</_label>
                                <div class="col-sm-6">
                                    <select data-bind="value: selectedDigitalPin1" class="form-control">
                                        <option value="0">D1</option>
                                        <option value="1">D2</option>
                                        <option value="2">D3</option>
                                        <option value="3">D4</option>
                                        <option value="4">D5</option>
                                        <option value="5">D6</option>
                                        <option value="6">D7</option>
                                        <option value="7">D8</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label data-translateable="true" class="col-sm-4 control-label">Digital input type</label>
                                <div class="col-sm-6">
                                    <select data-bind="value: selectedDigitalType" class="form-control">
                                        <_option value="dbinary">Binary</_option>
                                        <_option value="dpushbutton">Pushbutton</_option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-4 col-sm-6">
                                    <_button type="button" data-translateable="true" data-bind="click: addDigital" class="btn btn-primary">Add device</_button>
                                </div>
                            </div>
                        </form>
                    </fieldset>
                </div>

                <!-- links config -->
                <div id="tabs-links" class="tab-pane fade">
                    <fieldset>
                        <_legend data-translateable="true">Link binary device to output device</_legend>
                        <_div data-translateable="true" class="callout callout-info">Creating a link between 2 devices add a validation step before activating output, ie: a door sensor prevents from linked shutter to be opened.</_div>
                        <form class="form-horizontal">
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">Create link between</_label>
                                <div class="col-sm-6">
                                    <select data-bind="options:binaryDevices, optionsText:'name', value:selectedLinkBinary" class="form-control"></select>
                                </div>
                            </div>
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">and</_label>
                                <div class="col-sm-6">
                                    <select data-bind="options:outputDevices, optionsText:'name', value:selectedLinkOutput" class="form-control"></select>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-4 col-sm-6">
                                    <_button type="button" class="btn btn-primary" data-bind="click: addLink" data-translateable="true">Add link</_button>
                                </div>
                            </div>
                        </form>
                    </fieldset>

                    <fieldset>
                        <_legend data-translateable="true">Delete links</_legend>
                        <form class="form-horizontal">
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">Link</_label>
                                <div class="col-sm-6">
                                    <select data-bind="options:links, optionsText:'name', value:selectedLinkToDelete" class="form-control"></select>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-4 col-sm-6">
                                    <_button type="button" class="btn btn-primary" data-bind="click: deleteLink" data-translateable="true">Delete link</_button>
                                </div>
                            </div>
                        </form>
                    </fieldset>
                </div>

                <!-- analogs config -->
                <div id="tabs-analogs" class="tab-pane fade">
                    <img src="img/ipx/ipx800v3_analogs.jpg"/>
                    <fieldset>
                        <_legend data-translateable="true">Add analogs</_legend>
                        <form class="form-horizontal">
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">Used analogs</_label>
                                <div class="col-sm-6">
                                    <p class="form-control-static" id="currentanalogs"></p>
                                </div>
                            </div>
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">Analog type</_label>
                                <div class="col-sm-6">
                                    <select data-bind="value: selectedAnalogType" class="form-control">
                                        <_option value="temperature" data-translateable="true">Temperature</_option>
                                        <_option value="light" data-translateable="true">Light</_option>
                                        <_option value="volt" data-translateable="true">Volt</_option>
                                        <_option value="humidity" data-translateable="true">Humidity</_option>
                                        <_option value="binary" data-translateable="true">Binary</_option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">Analog input</_label>
                                <div class="col-sm-6">
                                    <select data-bind="value: selectedAnalogPin1" class="form-control">
                                        <option value="0">A1</option>
                                        <option value="1">A2</option>
                                        <option value="2">A3</option>
                                        <option value="3">A4</option>
                                        <option value="4">A4</option>
                                        <option value="5">A5</option>
                                        <option value="6">A6</option>
                                        <option value="7">A7</option>
                                        <option value="8">A8</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-4 col-sm-6">
                                    <_button type="button" class="btn btn-primary" data-bind="click: addAnalog" data-translateable="true">Add device</_button>
                                </div>
                            </div>
                        </form>
                    </fieldset>
                </div>

                <!-- counters config -->
                <div id="tabs-counters" class="tab-pane fade">
                    <fieldset>
                        <_legend data-translateable="true">Add counter</_legend>
                        <form class="form-horizontal">
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">Used counters</_label>
                                <div class="col-sm-6">
                                    <p class="form-control-static" id="currentcounters"></p>
                                </div>
                            </div>
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">Counter</_label>
                                <div class="col-sm-6">
                                    <select data-bind="value: selectedCounterPin1" class="form-control">
                                        <option value="0">C1</option>
                                        <option value="1">C2</option>
                                        <option value="2">C3</option>
                                        <option value="3">C4</option>
                                        <option value="4">C5</option>
                                        <option value="5">C6</option>
                                        <option value="6">C7</option>
                                        <option value="7">C8</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-4 col-sm-6">
                                    <_button type="button" class="btn btn-primary" data-bind="click: addCounter" data-translateable="true">Add device</_button>
                                </div>
                            </div>
                        </form>
                    </fieldset>
        
                    <fieldset>
                        <_legend data-translateable="true">Actions</_legend>
                        <form class="form-horizontal">
                            <div class="form-group">
                                <_label class="col-sm-4 control-label" data-translateable="true">Reset counter</_label>
                                <div class="col-sm-6">
                                    <select data-bind="options:counterDevices, optionsText:'name', value:selectedCounterToReset" class="form-control"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-4 col-sm-6">
                                    <_button type="button" data-bind="click:resetCounter" class="btn btn-primary" data-translateable="true">Reset</_button>
                                </div>
                            </div>
                        </form>
                    </fieldset>
                </div>

                <!-- device list -->
                <div id="tabs-devices" class="tab-pane fade">
                    <script type="text/html" id="rowTemplate">
                        <ko opts="if:name">
                        <td data-bind="text:name, attr:{'data-uuid':uuid}" class="change_name"></td>
                        </ko>
                        <ko opts="ifnot:name">
                        <_td data-bind="attr:{'data-uuid':uuid}" data-translateable="true" class="change_name">unset</_td>
                        </ko>
                        <ko opts="if:room">
                        <td data-bind="text:room, attr:{'data-uuid':uuid}" class="change_room"></td>
                        </ko>
                        <ko opts="ifnot:room">
                        <_td data-bind="attr:{'data-uuid':uuid}" data-translateable="true" class="change_room">unset</_td>
                        </ko>
                        <td data-bind="text: type"></td>
                        <td data-bind="text: inputs"></td>
                        <td data-bind="attr: {'title': internalid }, text: internalid"></td>
                        <td>
                            <div class="btn-group">
                                <button type="button" class="btn btn-primary btn-xs" _alt="Delete" _title="Delete" data-translateable="true" data-bind="click: $parent.deleteDevice">
                                    <span class="en-cancel"></span>
                                </button>
                            </div>
                        </td>
                    </script>
                    <div data-bind="agoGrid:grid"></div>
                </div>
                
                <!-- board config -->
                <div id="tabs-board" class="tab-pane fade">
                    <form class="form-horizontal">
                        <div class="form-group">
                            <_label class="col-sm-4 control-label" data-translateable="true">Force saving board config</_label>
                            <div class="col-sm-6">
                                <_button type="button" data-bind="click:saveConfig" class="btn btn-primary" data-translateable="true">Save</_button>
                            </div>
                        </div>
                        <div class="form-group">
                            <_label class="col-sm-4 control-label" data-translateable="true">Delete this board</_label>
                            <div class="col-sm-6">
                                <_button type="button" data-bind="click:deleteBoard" class="btn btn-primary" data-translateable="true">Delete</_button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
                
    </section>
</div>
